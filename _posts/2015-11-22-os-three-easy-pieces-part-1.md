---
layout:		post
comments:	true
title:		"Конспект. Операционные системы. Часть 1. Виртуализация"
date:		2015-11-22
categories:
- workbook
- OS
---
ОС предоставляет API для процессов. В Unix используется комбинация 2х системных вызовов - **fork()** & **exec()**.

Виртуализация CPU
--
ОС контролирует, то, что исполняется в текущий момент тем самым, организовывая Limited Direct Execution.
Для того, чтобы это работало, требуется небольшая поддержка со стороны железа, в виде специального прерывания(trap), и в момент загрузки, ОС устанавливает так называемый **trap handler**, т.е. обработчик прерываний, в котором ОС как раз и проверяет права на запуск.

Как только процесс запущен, возникает необходимость работы нескольких процессов одновременно. ОС создает иллюзию того, что все работает одновременно, а на самом деле используется так называемый кооперативный режим, при котором, каждый процесс исполняется только слайс времени.
Для того, чтобы это заработало, ОС прерывается по заданному таймеру, который предоставляется железом (для этого необходимо установить **timer interrupt handler**), и выполняет переключение контекста (**context switch**), в котором выполнение передается другому процессу.
Само переключение контекста чаще всего означает сохранение всех необходимых регистров текущего процесса.
Так появляется задача, эффективного планирования и распределения слайсов времени т.е. **CPU Scheduling**, а также, зарождается многопоточность на уровне ядра ОС.

Виртуализация ОЗУ.
--
TBD